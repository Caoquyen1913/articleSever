{"version":3,"sources":["../../src/utils/validationHandle.js"],"names":["validate","schema","reqType","req","res","next","result","body","value","params","query","error","json"],"mappings":";;;;;;;AAAA,MAAMA,QAAQ,GAAG,CAACC,MAAD,EAASC,OAAT,KAAqB;AACpC,SAAO,UAAUC,GAAV,EAAeC,GAAf,EAAoBC,IAApB,EAA0B;AAC/B,QAAI;AACF,UAAIC,MAAM,GAAG,EAAb;;AACA,cAAQJ,OAAR;AACE,aAAK,MAAL;AACEI,UAAAA,MAAM,GAAGL,MAAM,CAACD,QAAP,CAAgBG,GAAG,CAACI,IAApB,CAAT;AACAJ,UAAAA,GAAG,CAACI,IAAJ,GAAWD,MAAM,CAACE,KAAlB;AACA;;AACF,aAAK,QAAL;AACEF,UAAAA,MAAM,GAAGL,MAAM,CAACD,QAAP,CAAgBG,GAAG,CAACM,MAApB,CAAT;AACA;;AACF;AACEH,UAAAA,MAAM,GAAGL,MAAM,CAACD,QAAP,CAAgBG,GAAG,CAACO,KAApB,CAAT;AACAP,UAAAA,GAAG,CAACO,KAAJ,GAAYJ,MAAM,CAACE,KAAnB;AACA;AAXJ;;AAaA,UAAIF,MAAM,CAACK,KAAX,EAAkB;AAChB;AACA;AACA;AACA,eAAOP,GAAG,CAACQ,IAAJ,CAAS;AACdD,UAAAA,KAAK,EAAEL,MAAM,CAACK;AADA,SAAT,CAAP;AAGD;;AAED,aAAON,IAAI,EAAX;AACD,KAzBD,CAyBE,OAAOM,KAAP,EAAc;AACdN,MAAAA,IAAI,CAACM,KAAD,CAAJ;AACD;AACF,GA7BD;AA8BD,CA/BD;;eAiCe;AACXX,EAAAA;AADW,C","sourcesContent":["const validate = (schema, reqType) => {\n  return function (req, res, next) {\n    try {\n      let result = {};\n      switch (reqType) {\n        case 'body':\n          result = schema.validate(req.body);\n          req.body = result.value;\n          break;\n        case 'params':\n          result = schema.validate(req.params);\n          break;\n        default:\n          result = schema.validate(req.query);\n          req.query = result.value;\n          break;\n      }\n      if (result.error) {\n        // const err = new Error(result.error);\n        // err.statusCode = 400;\n        // return next(err);\n        return res.json({\n          error: result.error\n        })\n      }\n\n      return next();\n    } catch (error) {\n      next(error);\n    }\n  };\n};\n\nexport default {\n    validate\n}"],"file":"validationHandle.js"}