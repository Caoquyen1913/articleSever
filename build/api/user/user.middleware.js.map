{"version":3,"sources":["../../../src/api/user/user.middleware.js"],"names":["signIn","req","res","next","username","body","user","userModel","findOne","isActive","responseHandle","send","HttpStatusCode","CONFLIC","errors","error","message"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;;;AAEA,MAAMA,MAAM,GAAG,OAAOC,GAAP,EAAYC,GAAZ,EAAiBC,IAAjB,KAA0B;AACvC,MAAI;AACF,UAAM;AAAEC,MAAAA;AAAF,QAAeH,GAAG,CAACI,IAAzB;AACA,UAAMC,IAAI,GAAG,MAAMC,cAAUC,OAAV,CAAkB;AACnCJ,MAAAA,QADmC;AAEnCK,MAAAA,QAAQ,EAAE;AAFyB,KAAlB,CAAnB;;AAIA,QAAIH,IAAJ,EAAU;AACR,aAAOI,wBAAeC,IAAf,CAAoBT,GAApB,EAAyBU,yBAAeC,OAAxC,EAAiD;AACtDC,QAAAA,MAAM,EAAE,CACN;AACEC,UAAAA,KAAK,EAAE;AADT,SADM;AAD8C,OAAjD,CAAP;AAOD;;AACD,WAAOZ,IAAI,EAAX;AACD,GAhBD,CAgBE,OAAOY,KAAP,EAAc;AACd,WAAOL,wBAAeC,IAAf,CAAoBT,GAApB,EAAyBU,yBAAeC,OAAxC,EAAiD;AACtDC,MAAAA,MAAM,EAAE,CACN;AACEC,QAAAA,KAAK,EAAEA,KAAK,CAACC;AADf,OADM;AAD8C,KAAjD,CAAP;AAOD;AACF,CA1BD;;eA4Be;AACbhB,EAAAA;AADa,C","sourcesContent":["import { HttpStatusCode } from '../../const/httpCode';\nimport responseHandle from '../../utils/responseHandle';\nimport userModel from './user.model';\n\nconst signIn = async (req, res, next) => {\n  try {\n    const { username } = req.body;\n    const user = await userModel.findOne({\n      username,\n      isActive: true,\n    });\n    if (user) {\n      return responseHandle.send(res, HttpStatusCode.CONFLIC, {\n        errors: [\n          {\n            error: 'username already existed',\n          },\n        ],\n      });\n    }\n    return next();\n  } catch (error) {\n    return responseHandle.send(res, HttpStatusCode.CONFLIC, {\n      errors: [\n        {\n          error: error.message,\n        },\n      ],\n    });\n  }\n};\n\nexport default {\n  signIn,\n};"],"file":"user.middleware.js"}